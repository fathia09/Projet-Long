{% extends "admin/base_admin.html" %}

{% block title %}Créer un examen{% endblock %}

{% block content %}

<link rel="stylesheet" href="{{ url_for('static', filename='css/theme.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/admin/styleCreateQuiz.css') }}">

<div class="form-container">
    <h2 class="form-title">Créer un examen</h2>
        
    <form method="post" action="{{ url_for('admin.create_exam') }}">
        
        <!-- Titre -->
        <input type="text" name="titre" placeholder="Titre de l'examen" required>

        <!-- Description -->
        <textarea name="description" placeholder="Description de l'examen" rows="4"></textarea>

        <!-- Durée totale -->
        <input type="number" name="duree" placeholder="Durée totale (minutes)" required min="1">

        <!-- Date de début -->
        <label>Date de début :</label>
        <input type="datetime-local" name="date_debut" required>

        <!-- Date de fin -->
        <label>Date de fin :</label>
        <input type="datetime-local" name="date_fin" required>

        <!-- Matière -->
        <label>Matière :</label>
        <select name="matiere" required>
            <option value="">Sélectionner une matière</option>
            {% for matiere in matieres %}
                <option value="{{ matiere['id'] }}">
                    {{ matiere['nom'] }}
                </option>
            {% endfor %}
        </select>

        <!-- Enseignant responsable -->
        <label>Enseignant :</label>
        <select name="id_user" required>
            <option value="">Sélectionner un enseignant</option>
            {% for prof in enseignants %}
                <option value="{{ prof.id }}">
                    {{ prof.nom }} {{ prof.prenom }}
                </option>
            {% endfor %}
        </select>

        <!-- Groupes cibles -->
        <fieldset>
            <legend>Groupes cibles (optionnel)</legend>

            {% for groupe in groupes %}
                <label class="checkbox-label">
                    <input type="checkbox" name="groupes" value="{{ groupe['id'] }}">
                    {{ groupe['nom'] }}
                </label>
            {% endfor %}
        </fieldset>

        <button type="submit">Créer l'examen</button>
    </form>

    <p style="margin-top: 20px;">
        <a href="{{ url_for('admin.gestion_examens') }}">← Retour à la gestion des examens</a>
    </p>
</div>
{% endblock %}
