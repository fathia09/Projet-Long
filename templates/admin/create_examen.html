{% extends "admin/base_admin.html" %}

{% block title %}Créer un quiz{% endblock %}

{% block content %}

<link rel="stylesheet" href="{{ url_for('static', filename='css/theme.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/admin/styleCreateQuiz.css') }}">

<div class="form-container">
    <h2 class="form-title">Créer un quiz</h2>
        
    <form method="post" action="{{ url_for('admin.create_exam') }}">
        
        <!-- Titre -->
        <input type="text" name="titre" placeholder="Titre du quiz" required>

        <!-- Description -->
        <textarea name="description" placeholder="Description du quiz" rows="4"></textarea>

        <!-- Matière -->
        <label>Matière :</label>
        <select name="matiere" required>
            <option value="">Sélectionner une matière</option>
            {% for matiere in matieres %}
                <option value="{{ matiere['id'] }}">
                    {{ matiere['nom'] }}
                </option>
            {% endfor %}
        </select>

        <!-- Enseignant responsable -->
        <label>Enseignant :</label>
        <select name="id_user" required>
            <option value="">Sélectionner un enseignant</option>
            {% for prof in enseignants %}
                <option value="{{ prof.id }}">
                    {{ prof.nom }} {{ prof.prenom }}
                </option>
            {% endfor %}
        </select>

        <!-- Groupes cibles -->
        <label>Groupes cibles (optionnel) :</label>
        <div class="groupes-box">
            {% for groupe in groupes %}
                <label class="checkbox-label">
                    <input type="checkbox" name="groupes" value="{{ groupe.id }}">
                    {{ groupe.nom }}
                </label>
            {% endfor %}
        </div>

        <button type="submit">Créer le quiz</button>
    </form>

    <p style="margin-top: 20px;">
        <a href="{{ url_for('admin.gestion_examens') }}">← Retour à la gestion des quiz</a>
    </p>
</div>
{% endblock %}
